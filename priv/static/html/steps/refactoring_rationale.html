<p>
  This section explains the rationale behind refactoring our pagination
  implementation into a helper module. If you haven't reviewed the initial
  pagination implementation in the previous section, it's recommended to
  <a href="/steps/paginated">start there</a> to understand the complete context
  and functionality of the code being refactored.
</p>
<h3>Key Principles</h3>
<ul>
  <li>Reusable across all paginated LiveViews</li>
  <li>Encapsulated logic and centralized configuration of pagination</li>
  <li>Clear separation of pagination logic from LiveView lifecycle methods</li>
</ul>
<p>The helper manages pagination logic, allowing LiveView to focus on:</p>
<ul>
  <li>
    Lifecycle hooks (e.g., <code>mount</code>, <code>handle_params</code>)
  </li>
  <li>Business-specific logic</li>
  <li>View-specific state and events</li>
</ul>
<h3>The Pagination Context Struct</h3>
<p>
  To reduce the complexity of passing multiple parameters (e.g.,
  <code>fetch_data_fn</code>, <code>fetch_url_fn</code>, and
  <code>stream_name</code>) into our helper functions, we introduce a dedicated
  <code>Context</code> struct within the helper. This struct encapsulates all
  pagination-specific configuration unique to a particular LiveView. By
  assigning this struct to the socket once (e.g., during <code>mount</code>),
  our helper functions can read it directly from the socket, simplifying their
  signatures and making the pagination logic more portable and maintainable.
</p>
<h3>Functions in the Helper Module</h3>
<h4><code>convert_params</code>, <code>to_integer</code></h4>
<ul>
  <li>
    Performs pure parameter conversion without LiveView-specific dependencies
  </li>
</ul>
<h4><code>validate_options</code></h4>
<ul>
  <li>
    Provides centralized validation of pagination options using pure, reusable
    rules
  </li>
</ul>
<h4><code>get_per_page_select_options</code></h4>
<ul>
  <li>
    Offers a single source for pagination UI configuration, ensuring consistency
    across views
  </li>
</ul>
<h4><code>update_per_page_option</code></h4>
<ul>
  <li>
    Standardizes updates to per-page settings with uniform default handling
  </li>
</ul>
<h4><code>init</code></h4>
<ul>
  <li>
    Initializes pagination state assignments to ensure consistent setup across
    LiveViews
  </li>
</ul>
<h4><code>apply_options</code></h4>
<ul>
  <li>
    Manages complex pagination updates, including stream resets and URL state
    updates
  </li>
</ul>
<h4>
  <code>handle_created</code>, <code>handle_updated</code>,
  <code>handle_deleted</code>
</h4>
<ul>
  <li>
    Manages pagination state changes in response to create, update, and delete
    events
  </li>
</ul>
<h4><code>get_summary</code></h4>
<ul>
  <li>
    Provides reusable summary formatting, ensuring consistency across views
  </li>
</ul>
